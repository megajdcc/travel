import{E as A,x as F,t as I,B as U,j as N,J as T,ai as q,ak as K,A as M,D as P,M as G,h as H,ah as J,r as v,k as W,o as V,v as B,w as l,a as c,m as w,c as Q,a0 as X,a1 as Y,s as Z,b as R}from"./index.757ffe30.js";import{u as $}from"./faq.87869443.js";var nn=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],en=function(n){return nn.map(function(t){return t.toLowerCase()}).indexOf(n.toLowerCase())!==-1},tn=function(n,t,e){Object.keys(t).filter(en).forEach(function(o){var r=t[o];typeof r=="function"&&(o==="onInit"?r(n,e):e.on(o.substring(2),function(i){return r(i,e)}))})},on=function(n,t,e,o){var r=n.modelEvents?n.modelEvents:null,i=Array.isArray(r)?r.join(" "):r;A(o,function(f,u){e&&typeof f=="string"&&f!==u&&f!==e.getContent({format:n.outputFormat})&&e.setContent(f)}),e.on(i||"change input undo redo",function(){t.emit("update:modelValue",e.getContent({format:n.outputFormat}))})},an=function(n,t,e,o,r,i){o.setContent(i()),e.attrs["onUpdate:modelValue"]&&on(t,e,o,r),tn(n,e.attrs,o)},L=0,z=function(n){var t=Date.now(),e=Math.floor(Math.random()*1e9);return L++,n+"_"+e+L+String(t)},rn=function(n){return n!==null&&n.tagName.toLowerCase()==="textarea"},O=function(n){return typeof n>"u"||n===""?[]:Array.isArray(n)?n:n.split(" ")},ln=function(n,t){return O(n).concat(O(t))},un=function(n){return n==null},j=function(){return{listeners:[],scriptId:z("tiny-script"),scriptLoaded:!1}},cn=function(){var n=j(),t=function(r,i,f,u){var a=i.createElement("script");a.referrerPolicy="origin",a.type="application/javascript",a.id=r,a.src=f;var g=function(){a.removeEventListener("load",g),u()};a.addEventListener("load",g),i.head&&i.head.appendChild(a)},e=function(r,i,f){n.scriptLoaded?f():(n.listeners.push(f),r.getElementById(n.scriptId)||t(n.scriptId,r,i,function(){n.listeners.forEach(function(u){return u()}),n.scriptLoaded=!0}))},o=function(){n=j()};return{load:e,reinitialize:o}},sn=cn(),dn=function(){return typeof window<"u"?window:global},y=function(){var n=dn();return n&&n.tinymce?n.tinymce:null},fn={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(n){return n==="html"||n==="text"}}},h=globalThis&&globalThis.__assign||function(){return h=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},h.apply(this,arguments)},mn=function(n,t,e,o){return n(o||"div",{id:t,ref:e})},vn=function(n,t,e){return n("textarea",{id:t,visibility:"hidden",ref:e})},gn=F({props:fn,setup:function(n,t){var e=n.init?h({},n.init):{},o=I(n),r=o.disabled,i=o.modelValue,f=o.tagName,u=U(null),a=null,g=n.id||z("tiny-vue"),C=n.init&&n.init.inline||n.inline,_=!!t.attrs["onUpdate:modelValue"],S=!0,E=n.initialValue?n.initialValue:"",b="",k=function(s){return _?function(){return i!=null&&i.value?i.value:""}:function(){return s?E:b}},p=function(){var s=k(S),d=h(h({},e),{readonly:n.disabled,selector:"#"+g,plugins:ln(e.plugins,n.plugins),toolbar:n.toolbar||e.toolbar,inline:C,setup:function(m){a=m,m.on("init",function(x){return an(x,n,t,m,i,s)}),typeof e.setup=="function"&&e.setup(m)}});rn(u.value)&&(u.value.style.visibility=""),y().init(d),S=!1};A(r,function(s){var d;a!==null&&(typeof((d=a.mode)===null||d===void 0?void 0:d.set)=="function"?a.mode.set(s?"readonly":"design"):a.setMode(s?"readonly":"design"))}),A(f,function(s){var d;_||(b=a.getContent()),(d=y())===null||d===void 0||d.remove(a),P(function(){return p()})}),N(function(){if(y()!==null)p();else if(u.value&&u.value.ownerDocument){var s=n.cloudChannel?n.cloudChannel:"5",d=n.apiKey?n.apiKey:"no-api-key",m=un(n.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+d+"/tinymce/"+s+"/tinymce.min.js":n.tinymceScriptSrc;sn.load(u.value.ownerDocument,m,p)}}),T(function(){y()!==null&&y().remove(a)}),C||(q(function(){S||p()}),K(function(){var s;_||(b=a.getContent()),(s=y())===null||s===void 0||s.remove(a)}));var D=function(s){var d;b=a.getContent(),(d=y())===null||d===void 0||d.remove(a),e=h(h({},e),s),P(function(){return p()})};return t.expose({rerender:D}),function(){return C?mn(M,g,u,n.tagName):vn(M,g,u)}}});const _n={components:{Editor:gn},setup(n,{emit:t}){const e=$(),o=U(null),{categorias:r}=I(e),{faq:i}=I(e);N(()=>{r.value.length||e.cargarCategorias().then(a=>{r.value=a})});const f=()=>{t("save",i.value,o.value)},u={selector:"textarea#premiumskinsandicons-snow",skin:"snow",icons:"thin",plugins:"quickbars image lists code table codesample advlist autolink lists link image charmap print preview anchor searchreplace visualblocks code fullscreen insertdatetime media table paste code wordcount ",toolbar:"formatselect | forecolor backcolor | bold italic underline strikethrough | link image blockquote codesample | align bullist numlist | code | table",height:400,content_style:"body { margin: 2rem 10%; }",branding:!1,language:"es"};return{formValidate:o,formulario:i,guardar:f,loading:H(()=>root.loading),categorias:r,optionsEditor:u,regresar:J}}},bn=R("span",{class:"text-danger"},"*",-1),pn=R("span",{class:"text-danger"},"*",-1);function yn(n,t,e,o,r,i){const f=v("b-form-input"),u=v("b-form-group"),a=v("b-col"),g=v("el-option"),C=v("el-select"),_=v("b-row"),S=v("editor"),E=v("feather-icon"),b=v("b-button"),k=v("b-button-group"),p=v("b-container"),D=v("b-form"),s=v("b-card"),d=W("loading");return V(),B(s,null,{default:l(()=>[c(D,null,{default:l(()=>[c(p,{fluid:""},{default:l(()=>[c(_,null,{default:l(()=>[c(a,{cols:"12",md:"6"},{default:l(()=>[c(u,null,{label:l(()=>[w(" Pregunta: "),bn]),default:l(()=>[c(f,{modelValue:o.formulario.pregunta,"onUpdate:modelValue":t[0]||(t[0]=m=>o.formulario.pregunta=m)},null,8,["modelValue"])]),_:1})]),_:1}),c(a,{cols:"12",md:"6"},{default:l(()=>[c(u,null,{label:l(()=>[w(" Categor\xEDa: "),pn]),default:l(()=>[c(C,{modelValue:o.formulario.categoria_id,"onUpdate:modelValue":t[1]||(t[1]=m=>o.formulario.categoria_id=m),placeholder:"seleccione",clearable:"",filterable:"",class:"w-100"},{default:l(()=>[(V(!0),Q(Y,null,X(o.categorias,(m,x)=>(V(),B(g,{key:x,label:m.nombre,value:m.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),c(_,null,{default:l(()=>[c(a,{cols:"12"},{default:l(()=>[c(u,null,{label:l(()=>[w(" Contenido: ")]),default:l(()=>[c(S,{"output-format":"html",value:o.formulario.respuesta,onInput:t[2]||(t[2]=m=>o.formulario.respuesta=m),"api-key":"t1i940nuarrf1zefgxbf6ow5cxmgjmcad7q7l3fm5prgebyc",init:o.optionsEditor},null,8,["value","init"])]),_:1})]),_:1})]),_:1}),c(_,null,{default:l(()=>[c(a,{cols:"12"},{default:l(()=>[c(k,{size:"sm"},{default:l(()=>[Z((V(),B(b,{variant:"primary",type:"submit"},{default:l(()=>[c(E,{icon:"SaveIcon"}),w(" Guardar ")]),_:1})),[[d,o.loading]]),c(b,{variant:"info",onClick:o.regresar},{default:l(()=>[c(E,{icon:"ArrowLeftIcon"}),w(" Regresar ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const Sn=G(_n,[["render",yn]]);export{Sn as f};
