import{a9 as r}from"./index.52d87dda.js";const c=r("categoriaNegocio",{state:()=>({categoria:{id:null,categoria:"",descripcion:"",imagen:null},categorias:[]}),getters:{draft(e){return clone(e.categoria)}},actions:{setCategorias(e){this.categorias=e},clear(){this.categoria={id:null,categoria:"",descripcion:"",imagen:null}},push(e){this.categorias.push(e)},put(e){this.categorias.splice(this.categorias.findIndex(i=>i.id===e),1)},capturar(e){let i=this.categorias.find(a=>a.id===e);i&&(this.categoria=i)},update(e){let i=this.categorias.findIndex(a=>a.id===e.id);i!=-1&&(this.categorias[i]=e,this.categoria.id===e.id&&(this.categoria=e))},fetchData(e){return new Promise((i,a)=>{axios.post("/api/negocio/categorias/fetch/data",e).then(({data:t})=>{this.setCategorias(t.categorias),i(t)}).catch(t=>a(t))})},guardar(e){return new Promise((i,a)=>{let t=new FormData;Object.keys(e).forEach(o=>{t.append(o,e[o])}),e.id?(t.append("_method","put"),axios.post(`/api/negocio/categorias/${e.id}`,t,{headers:{ContentType:"multipart/form-data; boundary=something"}}).then(({data:o})=>{o.result&&this.update(o.categoria),i(o)}).catch(o=>a(o))):axios.post("/api/negocio/categorias",t,{headers:{ContentType:"multipart/form-data; boundary=something"}}).then(({data:o})=>{o.result&&this.push(o.categoria),i(o)}).catch(o=>a(o))})},eliminar(e){return new Promise((i,a)=>{axios.delete(`/api/negocio/categorias/${e}`).then(({data:t})=>{t.result&&this.put(e),i(t)}).catch(t=>a(t))})},async getCategoria(e){return await new Promise((i,a)=>{axios.get(`/api/negocio/categorias/${e}/get`).then(({data:t})=>{this.push(t),i(t)}).catch(t=>a(t))})},async getCategorias(){return await new Promise((e,i)=>{axios.get("/api/negocio/categorias/get/all").then(({data:a})=>{this.setCategorias(a),e(a)}).catch(a=>{console.log(a)})})}}});export{c as u};
