import{a9 as s}from"./index.70b226c4.js";const o=s("faq",{state(){return{faq:{id:null,pregunta:"",respuesta:"",categoria_id:null,usuario_id:null,categoria:null,usuario:null},faqs:[],categoria:{id:null,nombre:"",icono:""},categorias:[]}},getters:{draft(a){return clone(a.faq)}},actions:{setFaqs(a){this.faqs=a},clearFaq(){this.faq={id:null,pregunta:"",respuesta:"",categoria_id:null,usuario_id:null,categoria:null,usuario:null}},capturarFaq(a){let t=this.faqs.find(e=>e.id===a);t&&(this.faq=t)},updateFaq(a){let t=this.faqs.findIndex(e=>e.id===a.id);t!=-1&&(this.faqs[t]=a,this.faq.id===a.id&&(this.faq=a))},pushFaq(a){this.faqs.push(a)},putFaq(a){this.faqs.splice(this.faqs.findIndex(t=>t.id===a),1)},setCategorias(a){this.categorias=a},clearCategoria(){this.categoria={id:null,nombre:"",icono:""}},capturarCategoria(a){let t=this.categorias.find(e=>e.id===a);t&&(this.categoria=t)},updateCategoria(a){let t=this.categorias.findIndex(e=>e.id===a.id);t!=-1&&(this.categorias[t]=a,this.categoria.id===a.id&&(this.categoria=a))},pushCategoria(a){this.categorias.push(a)},putCategoria(a){this.categorias.splice(this.categorias.findIndex(t=>t.id===a),1)},fetchFaqs(a){return new Promise((t,e)=>{axios.post("/api/faqs/fetch",a).then(({data:i})=>{this.setFaqs(i.faqs),t(i)}).catch(i=>e(i))})},fetchCategorias(a){return new Promise((t,e)=>{axios.post("/api/faqs/categorias/fetch",a).then(({data:i})=>{t(i),this.setCategorias(i.categorias)}).catch(i=>e(i))})},guardarFaq(a){return new Promise((t,e)=>{a.id?axios.put(`/api/faqs/${a.id}`,a).then(({data:i})=>{this.updateFaq(i.faq),t(i)}).catch(i=>e(i)):axios.post("/api/faqs",a).then(({data:i})=>{this.pushFaq(i.faq),t(i)}).catch(i=>e(i))})},guardarCategoria(a){return new Promise((t,e)=>{a.id?axios.put(`/api/faqs/categorias/${a.id}`,a).then(({data:i})=>{this.updateCategoria(i.categoria),t(i)}).catch(i=>e(i)):axios.post("/api/faqs/categorias",a).then(({data:i})=>{this.pushCategoria(i.categoria),t(i)}).catch(i=>e(i))})},eliminarFaq(a){return new Promise((t,e)=>{axios.delete(`/api/faqs/${a}`).then(({data:i})=>{i.result&&(this.putFaq(a),t(i))}).catch(i=>{e(i)})})},eliminarCategoria(a){return new Promise((t,e)=>{axios.delete(`/api/faqs/categorias/${a}`).then(({data:i})=>{i.result&&(this.putCategoria(a),t(i))}).catch(i=>{e(i)})})},async cargarCategorias(){return await new Promise((a,t)=>{axios.get("/api/faqs/categorias/get/all").then(({data:e})=>{this.setCategorias(e),a(e)}).catch(e=>t(e))})},async cargarCategoria(a){return await new Promise((t,e)=>{axios.get(`/api/faqs/categorias/${a}/get`).then(({data:i})=>{this.pushCategoria(i),t(i)}).catch(i=>e(i))})},async getFaq(a){return await new Promise((t,e)=>{axios.get(`/api/faqs/${a}/get`).then(({data:i})=>{t(i),this.pushFaq(i)}).catch(i=>e(i))})},async getCategorias(a){return await new Promise((t,e)=>{axios.post("/api/cargar/categorias",{q:a}).then(({data:i})=>{t(i)}).catch(i=>e(i))})}}});export{o as u};
