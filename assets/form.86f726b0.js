import{M as G,e as A,B as f,t as E,j as O,E as T,am as z,ah as H,h as J,r as a,k as S,o as v,v as h,w as o,a as e,n as K,m as _,q as V,s as q,b as x}from"./index.0b260ec5.js";import{u as P}from"./categoria.f7a435fd.js";const Q={setup(y,{emit:r}){const w=P(),t=A(),g=f(null),p=f(null),b=f(null),{categoria:n}=E(w),i=f(null),m=()=>{n.value.id&&n.value.imagen&&(i.value=n.value.imagen,n.value.imagen=null)};O(()=>m()),T([n],()=>m());const s=()=>{r("save",n.value,g.value)},c=u=>{i.value=URL.createObjectURL(u),n.value.imagen=p.value};return z(()=>i.value=null),{formValidate:g,regresar:H,formulario:n,guardar:s,imgUrl:i,formFile:b,imagenCargada:c,imagen:p,loading:J(()=>t.loading)}}},W=x("span",{class:"required"},"*",-1),X=x("strong",null,"Guardar",-1),Y=x("strong",null,"Regresar",-1);function Z(y,r,w,t,g,p){const b=a("b-img"),n=a("b-col"),i=a("b-row"),m=a("b-form-file"),s=a("b-form-invalid-feedback"),c=a("validation-provider"),u=a("b-form-group"),B=a("b-form-input"),I=a("b-form-textarea"),U=a("feather-icon"),k=a("b-button"),N=a("b-button-group"),D=a("b-container"),L=a("b-form"),j=a("validation-observer"),F=a("b-card"),C=S("b-tooltip"),R=S("loading");return v(),h(F,null,{default:o(()=>[e(j,{ref:"formValidate"},{default:o(({handleSubmit:M})=>[e(L,{onSubmit:K(l=>M(t.guardar),["prevent"])},{default:o(()=>[e(D,{fluid:""},{default:o(()=>[e(i,null,{default:o(()=>[e(n,{cols:"12",class:"justify-content-center d-flex mb-1"},{default:o(()=>[e(b,{class:"mx-auto",src:t.imgUrl,responsive:"",style:{"max-height":"300px"}},null,8,["src"])]),_:1})]),_:1}),e(i,null,{default:o(()=>[e(n,{cols:"12",md:"6"},{default:o(()=>[e(u,{label:"Imagen",description:"La imagen ha pesar de que no es requerida, muestra al usuario un gr\xE1fico representativo de la categor\xEDa creada"},{default:o(()=>[e(c,{name:"imagen"},{default:o(({errors:l})=>[e(m,{ref:"formFile",state:l.length?!1:null,modelValue:t.imagen,"onUpdate:modelValue":r[0]||(r[0]=d=>t.imagen=d),"browse-text":"Buscar una imagen",accept:"image/*",onInput:t.imagenCargada},null,8,["state","modelValue","onInput"]),e(s,null,{default:o(()=>[_(V(l[0]),1)]),_:2},1024)]),_:1})]),_:1}),e(u,null,{label:o(()=>[_(" Nombre: "),W]),default:o(()=>[e(c,{name:"categoria",rules:"required"},{default:o(({errors:l})=>[e(B,{modelValue:t.formulario.categoria,"onUpdate:modelValue":r[1]||(r[1]=d=>t.formulario.categoria=d),state:l.length?!1:null},null,8,["modelValue","state"]),e(s,null,{default:o(()=>[_(V(l[0]),1)]),_:2},1024)]),_:1})]),_:1})]),_:1}),e(n,{cols:"12",md:"6"},{default:o(()=>[e(u,{description:"Una descripci\xF3n breve de la categor\xEDa"},{label:o(()=>[_(" Descripci\xF3n: ")]),default:o(()=>[e(c,{name:"descripcion"},{default:o(({errors:l})=>[e(I,{modelValue:t.formulario.descripcion,"onUpdate:modelValue":r[2]||(r[2]=d=>t.formulario.descripcion=d),state:l.length?!1:null,rows:5},null,8,["modelValue","state"]),e(s,null,{default:o(()=>[_(V(l[0]),1)]),_:2},1024)]),_:1})]),_:1})]),_:1})]),_:1}),e(i,null,{default:o(()=>[e(n,{cols:"12"},{default:o(()=>[e(N,null,{default:o(()=>[q((v(),h(k,{variant:"primary",type:"submit",title:"Guardar"},{default:o(()=>[e(U,{icon:"SaveIcon"}),X]),_:1})),[[C,void 0,void 0,{hover:!0,top:!0}],[R,t.loading]]),q((v(),h(k,{variant:"danger",onClick:t.regresar,title:"Regresar"},{default:o(()=>[e(U,{icon:"ArrowLeftIcon"}),Y]),_:1},8,["onClick"])),[[C,void 0,void 0,{hover:!0,top:!0}],[R,t.loading]])]),_:1})]),_:1})]),_:1})]),_:1})]),_:2},1032,["onSubmit"])]),_:1},512)]),_:1})}const oe=G(Q,[["render",Z]]);export{oe as f};
